DIR XAMPP  файлы локального сервера откуда делаю  API запросы  к  стороннему приложению

На TIMEWEB создал аккаунт с тестовым периодом, куда будут поступать запросы. URL    https://co32660.tmweb.ru

xampp/work.php
  - функция GetToken - получение токена
  - UpdatePrice - обновление цен, в которой передаются данные из data_example.php ( пример из ТЗ)

  

Пользователь запрашивает токен, производя запрос по адресу 'https://co32660.tmweb.ru/api/product/token.php', указывыая в запросе данные авторизации( user: admin, pass : qwerty123). Данные передаются методом POST  в  JSON  формате

Получив токен, можно делать API запросы на изменение цен на определенный товар в определенном регионе. Для этого по адресу 'https://co32660.tmweb.ru/api/product/work.php' передаются методом POST  данные в JSON формате, где указывается поле KEY = TOKEN  и
массив данных с ID товара, id региона и значение цены на данных товар в данном регионе.

[
  {
    "product_id": 6,  ///id товара
    "product_name": "api_testZERO",//// имя товара
    "prices": {  //// массив с  id  регионов
      "1": {  /////  id региона  
        "price_purchase": 100, ////значение цены в данном регионе
        "price_selling": 200,
        "price_discount": 300
      },
      "2": {
        "price_purchase": 100022222,
        "price_selling": 12002222,
        "price_discount": 110022222
      }
    }
  },
  .........
]

Т.к.  в массиве передается id региона, то предпологается, что регион заранее создан и пользователь его знает.
Если ID товара из запроса нет в БД, то отображается ошибка.
Если ID  товара есть, но нет id региона, то создается цена на данный товар  с привязкой к указываемому региону




